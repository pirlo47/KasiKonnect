<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Login - KasiConnect</title>
   <link rel="stylesheet" href="../public/css/styles.css">
</head>
<body>
   <div class="login-container">
       <h1>Welcome to KasiConnect</h1>
       <p>Log in to find service providers near you</p>


       <form id="login-form">
           <label for="email">Email:</label>
           <input type="email" id="email" required>


           <label for="password">Password:</label>
           <input type="password" id="password" required>


           <button type="submit">Login</button>
       </form>


       <button id="microsoft-login">Login with Microsoft</button>


       <p>Don't have an account? <a href="signup.html">Sign up here</a></p>
   </div>


   <script src="../scripts/auth.js"></script>
   <script>
       document.getElementById("login-form").addEventListener("submit", async function(event) {
           event.preventDefault();
           await loginUser(); // Calls the function from auth.js
       });


       document.getElementById("microsoft-login").addEventListener("click", async function() {
           const response = await fetch("/auth/microsoft-login");
           const data = await response.json();
           window.location.href = data.auth_url;
       });
   </script>
</body>
</html>
